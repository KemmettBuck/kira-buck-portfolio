<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Portfolio site for Kira Buck, aspiring frontend developer focused on clean design and user experience.">
  <title>Kira Buck - Frontend Developer</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <!-- Hide body early to prevent flash -->
  <style>
    html { visibility: hidden; }
    html.dark-mode {
      background-color: #1e1e1e;
      color: #f4f4f4;
    }
  </style>

  <script>
    (function () {
      try {
        const theme = localStorage.getItem('theme');
        if (theme === 'dark') {
          document.documentElement.classList.add('dark-mode');
        }

        // Preload theme icon BEFORE DOMContentLoaded
        const iconHTML = (theme === 'dark') ? '☼' : '☽';
        document.addEventListener("DOMContentLoaded", () => {
          const icon = document.getElementById("theme-icon");
          if (icon) icon.textContent = iconHTML;
        });
      } catch (e) {
        console.warn("Theme setup error:", e);
      } finally {
        // Always make page visible ASAP
        document.documentElement.style.visibility = 'visible';
      }
    })();
  </script>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <div class="header-wrapper">
      <button id="theme-toggle" aria-label="Toggle light/dark mode">
        <span id="theme-icon">☽</span>
      </button>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="index.html#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <section>
      <h1>My Projects</h1>
      <div class="project-grid">
        <!-- Example project card -->
        <div class="project-card">
          <h2>Portfolio Website</h2>
          <p>A personal website built with HTML, CSS, and JavaScript. Features responsive design, dark mode, and smooth animations.</p>
          <a href="https://kemmettbuck.github.io/kira-buck-portfolio/" target="_blank">View Live</a>
        </div>
        <!-- Add more project cards here -->
      </div>
    </section>
  </main>

  <footer>
    <p>
      &copy; <span id="year"></span> Kira Buck. Connect with me on 
      <a href="https://www.linkedin.com/in/kirabuck">LinkedIn</a> or 
      <a href="https://github.com/KemmettBuck">GitHub</a>
    </p>
  </footer>

  <script src="script.js"></script>
</body>
</html>